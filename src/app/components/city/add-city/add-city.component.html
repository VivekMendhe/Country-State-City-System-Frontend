<div class="max-w-2xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-lg">
  <h2 class="text-2xl font-semibold mb-6 text-gray-900">
    {{ isEditMode ? "Edit" : "Add" }} City
  </h2>

  <form (ngSubmit)="saveCity()" class="space-y-4">
    <div class="mb-4">
      <label for="city" class="block text-sm font-medium text-gray-700"
        >City Name</label
      >
      <input
        type="text"
        id="city"
        [(ngModel)]="city.city"
        name="city"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Enter city name"
        required
      />
      @if (validationError.city) {
      <div class="text-red-500 text-sm mt-1">{{ validationError.city }}</div>
      }
    </div>

    <div class="mb-4">
      <label for="countryId" class="block text-sm font-medium text-gray-700"
        >Country</label
      >
      <select
        id="countryId"
        [(ngModel)]="selectedCountryId"
        name="countryId"
        (change)="onCountryChange($event)"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        required
      >
        @for (country of countries; track $index) {
        <option [value]="country.id">
          {{ country.country }}
        </option>
        }
      </select>
    </div>

    <div class="mb-4">
      <label for="stateId" class="block text-sm font-medium text-gray-700"
        >State</label
      >
      <select
        id="stateId"
        [(ngModel)]="city.stateId"
        name="stateId"
        (change)="onStateChange($event)"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        required
      >
        @for (state of filteredStates; track $index) {
        <option [value]="state.id">
          {{ state.state }}
        </option>
        }
      </select>
      @if (validationError.stateId) {
      <div class="text-red-500 text-sm mt-1">
        {{ validationError.stateId }}
      </div>
      }
    </div>

    <div class="flex justify-end">
      <!-- <button
        type="submit"
        class="bg-blue-500 text-white px-6 py-2 rounded-lg shadow hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        {{ isEditMode ? "Update" : "Save" }}
      </button> -->

      @if (isEditMode) {
      <button
        mat-raised-button
        #tooltip="matTooltip"
        matTooltip="update"
        type="submit"
        class=""
      >
        <span
          class="material-symbols-outlined bg-blue-500 text-white px-6 py-2 rounded-lg shadow hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          system_update_alt
        </span>
      </button>
      } @else {
      <button
        mat-raised-button
        #tooltip="matTooltip"
        matTooltip="save"
        type="submit"
      >
        <span
          class="material-symbols-outlined bg-blue-500 text-white px-6 py-2 rounded-lg shadow hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
          >label</span
        >
      </button>
      }
    </div>
  </form>
</div>
